<?phpclass ChangePasswordController extends Zend_Controller_Action{	protected $userm;	protected $adminf;	public function init()	{		$this->_alert = $this->_helper->getHelper("FlashMessenger");		$this->userm = new Model_User();        $this->adminf = new Form_Admin();	}		public function indexAction()	{		$auth = Zend_Auth::getInstance();		if($auth->hasIdentity())		{			$identity = $auth->getIdentity();			if($identity->type == 'administrator' || $identity->type == 'faculty')			{				$this->adminf->password->setLabel('New Password');				$this->adminf->repeat_password->setLabel('Confirm New Password');				$this->adminf->removeElement('username');			 	if($this->_request->isPost())		        {		        	if($this->adminf->isValid($_POST))		        	{			            $result = $this->userm->change_password($this->_request->getParam('password'), $identity->id);			            if($result)			            {			                $this->_alert->addMessage(array("message"=>'<i class="icon icon-ok"></i> Your password is updated.', "status"=>"success"));			                $this->_redirect("/change-password");			            }		        	}		        }				$this->view->form = $this->adminf;			}		}	}}